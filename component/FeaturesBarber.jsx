"use client";
import Image from "next/image";
import { useEffect, useState } from "react";
import mockup4 from "../public/images/mockup4.png";
import styles, { layout } from "@/styles/style";

// Composants SVG pour les icônes
const ReserveIcon = () => (
  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M9.68641 3.125C9.68641 2.87636 9.58763 2.6379 9.41182 2.46209C9.236 2.28627 8.99755 2.1875 8.74891 2.1875C8.50027 2.1875 8.26181 2.28627 8.08599 2.46209C7.91018 2.6379 7.81141 2.87636 7.81141 3.125V5.1C6.01141 5.24375 4.83141 5.59625 3.96391 6.465C3.09516 7.3325 2.74266 8.51375 2.59766 10.3125H27.4002C27.2552 8.5125 26.9027 7.3325 26.0339 6.465C25.1664 5.59625 23.9852 5.24375 22.1864 5.09875V3.125C22.1864 2.87636 22.0876 2.6379 21.9118 2.46209C21.736 2.28627 21.4975 2.1875 21.2489 2.1875C21.0003 2.1875 20.7618 2.28627 20.586 2.46209C20.4102 2.6379 20.3114 2.87636 20.3114 3.125V5.01625C19.4802 5 18.5477 5 17.4989 5H12.4989C11.4502 5 10.5177 5 9.68641 5.01625V3.125Z" fill="url(#paint0_linear_613_99571)"/>
    <path fillRule="evenodd" clipRule="evenodd" d="M2.5 15C2.5 13.9513 2.5 13.0188 2.51625 12.1875H27.4837C27.5 13.0188 27.5 13.9513 27.5 15V17.5C27.5 22.2137 27.5 24.5712 26.035 26.035C24.57 27.4987 22.2137 27.5 17.5 27.5H12.5C7.78625 27.5 5.42875 27.5 3.965 26.035C2.50125 24.57 2.5 22.2137 2.5 17.5V15ZM21.25 17.5C21.5815 17.5 21.8995 17.3683 22.1339 17.1339C22.3683 16.8995 22.5 16.5815 22.5 16.25C22.5 15.9185 22.3683 15.6005 22.1339 15.3661C21.8995 15.1317 21.5815 15 21.25 15C20.9185 15 20.6005 15.1317 20.3661 15.3661C20.1317 15.6005 20 15.9185 20 16.25C20 16.5815 20.1317 16.8995 20.3661 17.1339C20.6005 17.3683 20.9185 17.5 21.25 17.5ZM21.25 22.5C21.5815 22.5 21.8995 22.3683 22.1339 22.1339C22.3683 21.8995 22.5 21.5815 22.5 21.25C22.5 20.9185 22.3683 20.6005 22.1339 20.3661C21.8995 20.1317 21.5815 20 21.25 20C20.9185 20 20.6005 20.1317 20.3661 20.3661C20.1317 20.6005 20 20.9185 20 21.25C20 21.5815 20.1317 21.8995 20.3661 22.1339C20.6005 22.3683 20.9185 22.5 21.25 22.5ZM16.25 16.25C16.25 16.5815 16.1183 16.8995 15.8839 17.1339C15.6495 17.3683 15.3315 17.5 15 17.5C14.6685 17.5 14.3505 17.3683 14.1161 17.1339C13.8817 16.8995 13.75 16.5815 13.75 16.25C13.75 15.9185 13.8817 15.6005 14.1161 15.3661C14.3505 15.1317 14.6685 15 15 15C15.3315 15 15.6495 15.1317 15.8839 15.3661C16.1183 15.6005 16.25 15.9185 16.25 16.25ZM16.25 21.25C16.25 21.5815 16.1183 21.8995 15.8839 22.1339C15.6495 22.3683 15.3315 22.5 15 22.5C14.6685 22.5 14.3505 22.3683 14.1161 22.1339C13.8817 21.8995 13.75 21.5815 13.75 21.25C13.75 20.9185 13.8817 20.6005 14.1161 20.3661C14.3505 20.1317 14.6685 20 15 20C15.3315 20 15.6495 20.1317 15.8839 20.3661C16.1183 20.6005 16.25 20.9185 16.25 21.25ZM8.75 17.5C9.08152 17.5 9.39946 17.3683 9.63388 17.1339C9.8683 16.8995 10 16.5815 10 16.25C10 15.9185 9.8683 15.6005 9.63388 15.3661C9.39946 15.1317 9.08152 15 8.75 15C8.41848 15 8.10054 15.1317 7.86612 15.3661C7.6317 15.6005 7.5 15.9185 7.5 16.25C7.5 16.5815 7.6317 16.8995 7.86612 17.1339C8.10054 17.3683 8.41848 17.5 8.75 17.5ZM8.75 22.5C9.08152 22.5 9.39946 22.3683 9.63388 22.1339C9.8683 21.8995 10 21.5815 10 21.25C10 20.9185 9.8683 20.6005 9.63388 20.3661C9.39946 20.1317 9.08152 20 8.75 20C8.41848 20 8.10054 20.1317 7.86612 20.3661C7.6317 20.6005 7.5 20.9185 7.5 21.25C7.5 21.5815 7.6317 21.8995 7.86612 22.1339C8.10054 22.3683 8.41848 22.5 8.75 22.5Z" fill="url(#paint1_linear_613_99571)"/>
    <defs>
      <linearGradient id="paint0_linear_613_99571" x1="-0.271689" y1="-1.0625" x2="36.2297" y2="9.89979" gradientUnits="userSpaceOnUse">
        <stop stopColor="#1E2E56"/>
        <stop offset="1" stopColor="#4B5791"/>
      </linearGradient>
      <linearGradient id="paint1_linear_613_99571" x1="-0.392194" y1="6.0625" x2="38.7095" y2="12.3432" gradientUnits="userSpaceOnUse">
        <stop stopColor="#1E2E56"/>
        <stop offset="1" stopColor="#4B5791"/>
      </linearGradient>
    </defs>
  </svg>
);

const CheckIcon = () => (
  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M22.1875 4.91875V3.28125C22.1875 3.03261 22.0887 2.79415 21.9129 2.61834C21.7371 2.44252 21.4986 2.34375 21.25 2.34375C21.0014 2.34375 20.7629 2.44252 20.5871 2.61834C20.4113 2.79415 20.3125 3.03261 20.3125 3.28125V4.84375H9.6875V3.28125C9.6875 3.03261 9.58873 2.79415 9.41291 2.61834C9.2371 2.44252 8.99864 2.34375 8.75 2.34375C8.50136 2.34375 8.2629 2.44252 8.08709 2.61834C7.91127 2.79415 7.8125 3.03261 7.8125 3.28125V4.91875C6.41916 5.1441 5.1513 5.85744 4.23539 6.93135C3.31947 8.00526 2.81515 9.3698 2.8125 10.7812V21.7188C2.8125 22.4985 2.96608 23.2706 3.26447 23.9909C3.56285 24.7113 4.00021 25.3658 4.55155 25.9172C5.66505 27.0307 7.17528 27.6562 8.75 27.6562H21.25C22.0297 27.6562 22.8018 27.5027 23.5222 27.2043C24.2426 26.9059 24.8971 26.4685 25.4484 25.9172C25.9998 25.3658 26.4371 24.7113 26.7355 23.9909C27.0339 23.2706 27.1875 22.4985 27.1875 21.7188V10.7812C27.1849 9.3698 26.6805 8.00526 25.7646 6.93135C24.8487 5.85744 23.5808 5.1441 22.1875 4.91875ZM19.4125 16.9187L15.1625 21.1687C15.0012 21.3291 14.8101 21.4565 14.6 21.5438C14.3882 21.6396 14.1575 21.6866 13.925 21.6812C13.6966 21.6865 13.47 21.6394 13.2625 21.5438C13.0463 21.4611 12.8503 21.3333 12.6875 21.1687L10.5875 19.0562C10.4954 18.9704 10.4215 18.8669 10.3703 18.7519C10.319 18.6369 10.2915 18.5128 10.2893 18.3869C10.287 18.261 10.3102 18.136 10.3573 18.0193C10.4045 17.9025 10.4747 17.7965 10.5637 17.7075C10.6527 17.6184 10.7588 17.5482 10.8755 17.5011C10.9922 17.4539 11.1173 17.4308 11.2432 17.433C11.369 17.4352 11.4932 17.4628 11.6082 17.514C11.7232 17.5653 11.8267 17.6391 11.9125 17.7313L13.9375 19.7563L18.0875 15.5938C18.2652 15.4282 18.5003 15.338 18.7432 15.3423C18.986 15.3466 19.2178 15.445 19.3895 15.6167C19.5613 15.7885 19.6597 16.0202 19.664 16.2631C19.6683 16.506 19.5781 16.741 19.4125 16.9187ZM25.3125 11.0938H4.6875V10.7812C4.68873 9.86888 4.99799 8.98364 5.56518 8.26899C6.13236 7.55434 6.92424 7.05213 7.8125 6.84375V8.28125C7.8125 8.52989 7.91127 8.76835 8.08709 8.94416C8.2629 9.11998 8.50136 9.21875 8.75 9.21875C8.99864 9.21875 9.2371 9.11998 9.41291 8.94416C9.58873 8.76835 9.6875 8.52989 9.6875 8.28125V6.71875H20.3125V8.28125C20.3125 8.52989 20.4113 8.76835 20.5871 8.94416C20.7629 9.11998 21.0014 9.21875 21.25 9.21875C21.4986 9.21875 21.7371 9.11998 21.9129 8.94416C22.0887 8.76835 22.1875 8.52989 22.1875 8.28125V6.84375C23.0758 7.05213 23.8676 7.55434 24.4348 8.26899C25.002 8.98364 25.3113 9.86888 25.3125 10.7812V11.0938Z" fill="url(#paint0_linear_613_99580)"/>
    <defs>
      <linearGradient id="paint0_linear_613_99580" x1="-0.00738943" y1="-7.78125" x2="38.7525" y2="-4.10917" gradientUnits="userSpaceOnUse">
        <stop stopColor="#1E2E56"/>
        <stop offset="1" stopColor="#4B5791"/>
      </linearGradient>
    </defs>
  </svg>
);

const ChatIcon = () => (
  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M15 2.5C21.9038 2.5 27.5 8.09625 27.5 15C27.5 21.9037 21.9038 27.5 15 27.5C12.9778 27.5027 10.9854 27.0127 9.19501 26.0725L3.83251 27.4688C3.65333 27.5154 3.46507 27.5145 3.28637 27.4659C3.10768 27.4174 2.94477 27.3231 2.81378 27.1922C2.68279 27.0613 2.58827 26.8985 2.53959 26.7199C2.49092 26.5412 2.48977 26.353 2.53626 26.1737L3.93126 20.8125C2.98856 19.0202 2.49728 17.0251 2.50001 15C2.50001 8.09625 8.09626 2.5 15 2.5ZM16.565 16.25H10.9375L10.81 16.2587C10.5856 16.2896 10.38 16.4007 10.2311 16.5714C10.0823 16.7422 10.0003 16.961 10.0003 17.1875C10.0003 17.414 10.0823 17.6328 10.2311 17.8036C10.38 17.9743 10.5856 18.0854 10.81 18.1163L10.9375 18.125H16.565L16.6913 18.1163C16.9157 18.0854 17.1213 17.9743 17.2701 17.8036C17.419 17.6328 17.501 17.414 17.501 17.1875C17.501 16.961 17.419 16.7422 17.2701 16.5714C17.1213 16.4007 16.9157 16.2896 16.6913 16.2587L16.565 16.25ZM19.0625 11.875H10.9375L10.81 11.8837C10.5856 11.9146 10.38 12.0257 10.2311 12.1964C10.0823 12.3672 10.0003 12.586 10.0003 12.8125C10.0003 13.039 10.0823 13.2578 10.2311 13.4286C10.38 13.5993 10.5856 13.7104 10.81 13.7413L10.9375 13.75H19.0625L19.19 13.7413C19.4144 13.7104 19.62 13.5993 19.7689 13.4286C19.9177 13.2578 19.9997 13.039 19.9997 12.8125C19.9997 12.586 19.9177 12.3672 19.7689 12.1964C19.62 12.0257 19.4144 11.9146 19.19 11.8837L19.0625 11.875Z" fill="url(#paint0_linear_613_99588)"/>
    <defs>
      <linearGradient id="paint0_linear_613_99588" x1="-0.392196" y1="-7.50122" x2="39.3339" y2="-3.59332" gradientUnits="userSpaceOnUse">
        <stop stopColor="#1E2E56"/>
        <stop offset="1" stopColor="#4B5791"/>
      </linearGradient>
    </defs>
  </svg>
);

const MoneyIcon = () => (
  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fillRule="evenodd" clipRule="evenodd" d="M14.935 1.5625H15.065C16.1888 1.5625 17.125 1.5625 17.8675 1.6625C18.6525 1.7675 19.3612 2 19.93 2.56875C20.5 3.13875 20.7325 3.8475 20.8375 4.63125C20.9088 5.165 20.93 6.43875 20.935 7.53125C23.4625 7.615 24.9813 7.91 26.035 8.965C27.5 10.4288 27.5 12.7863 27.5 17.5C27.5 22.2137 27.5 24.5712 26.035 26.035C24.57 27.4987 22.2137 27.5 17.5 27.5H12.5C7.78625 27.5 5.42875 27.5 3.965 26.035C2.50125 24.57 2.5 22.2137 2.5 17.5C2.5 12.7863 2.5 10.4288 3.965 8.965C5.01875 7.91 6.5375 7.615 9.065 7.5325C9.07 6.43875 9.09 5.165 9.1625 4.6325C9.2675 3.8475 9.5 3.13875 10.07 2.57C10.6388 2 11.3475 1.7675 12.1325 1.6625C12.875 1.5625 13.8125 1.5625 14.935 1.5625ZM10.94 7.5025C10.9462 6.44375 10.9638 5.305 11.02 4.88125C11.0987 4.305 11.2325 4.0575 11.395 3.895C11.5575 3.7325 11.805 3.59875 12.3825 3.52C12.985 3.44 13.795 3.4375 15 3.4375C16.205 3.4375 17.015 3.44 17.6188 3.52125C18.195 3.59875 18.4425 3.7325 18.605 3.89625C18.7675 4.06 18.9012 4.305 18.98 4.88125C19.0363 5.30625 19.055 6.44375 19.06 7.5025C18.57 7.5 18.05 7.49917 17.5 7.5H12.5C11.9483 7.5 11.4283 7.50083 10.94 7.5025ZM15 11.5625C14.7514 11.5625 14.5129 11.6613 14.3371 11.8371C14.1613 12.0129 14.0625 12.2514 14.0625 12.5V12.5125C12.7013 12.855 11.5625 13.9288 11.5625 15.4163C11.5625 15.6649 11.6613 15.9033 11.8371 16.0792C12.0129 16.255 12.2514 16.3538 12.5 16.3538C12.7486 16.3538 12.9871 16.255 13.1629 16.0792C13.3387 15.9033 13.4375 15.6649 13.4375 15.4163C13.4375 14.9363 13.97 14.2712 15 14.2712C16.03 14.2712 16.5625 14.9363 16.5625 15.4163C16.5625 15.8962 16.03 16.5625 15 16.5625C13.2688 16.5625 11.5625 17.7625 11.5625 19.5837C11.5625 21.0712 12.7013 22.1437 14.0625 22.4875V22.5C14.0625 22.7486 14.1613 22.9871 14.3371 23.1629C14.5129 23.3387 14.7514 23.4375 15 23.4375C15.2486 23.4375 15.4871 23.3387 15.6629 23.1629C15.8387 22.9871 15.9375 22.7486 15.9375 22.5V22.4875C17.2987 22.145 18.4375 21.0712 18.4375 19.5837C18.4375 19.3351 18.3387 19.0967 18.1629 18.9208C17.9871 18.745 17.7486 18.6462 17.5 18.6462C17.2514 18.6462 17.0129 18.745 16.8371 18.9208C16.6613 19.0967 16.5625 19.3351 16.5625 19.5837C16.5625 20.0637 16.03 20.7288 15 20.7288C13.97 20.7288 13.4375 20.0637 13.4375 19.5837C13.4375 19.1038 13.97 18.4375 15 18.4375C16.7312 18.4375 18.4375 17.2375 18.4375 15.4163C18.4375 13.9288 17.2987 12.855 15.9375 12.5125V12.5C15.9375 12.2514 15.8387 12.0129 15.6629 11.8371C15.4871 11.6613 15.2486 11.5625 15 11.5625Z" fill="url(#paint0_linear_613_99596)"/>
    <defs>
      <linearGradient id="paint0_linear_613_99596" x1="30.3922" y1="-8.8125" x2="-9.36084" y2="-5.04284" gradientUnits="userSpaceOnUse">
        <stop stopColor="#1E2E56"/>
        <stop offset="1" stopColor="#4B5791"/>
      </linearGradient>
    </defs>
  </svg>
);

function FeatureCard({ icon, title, text }) {
  return (
    <div
      className="group lg:max-w-[400px] xl:max-w-[624px] 
      flex items-center gap-6 px-6 lg:px-8 py-6 
      rounded-[32px] shadow-md bg-white cursor-pointer 
      transition-all duration-300 ease-in-out 
      hover:bg-gradient-to-bl hover:from-[#1E2E56] hover:to-[#4B5791]"
    >
      {/* Icône */}
      <div
        className="w-[60px] h-[60px] shrink-0 
        flex justify-center items-center 
        rounded-full bg-[#F5F5F5] 
        transition-colors duration-300 
        group-hover:bg-white"
      >
        {icon}
      </div>

      {/* Texte */}
      <div className="flex flex-col gap-1">
        <h3
          className="text-[20px] lg:text-[22px] font-bold text-[#2B323B] 
          transition-colors duration-300 group-hover:text-white"
        >
          {title}
        </h3>
        <p
          className="text-[15px] lg:text-[16px] text-[#2B323B] 
          transition-colors duration-300 group-hover:text-white"
        >
          {text}
        </p>
      </div>
    </div>
  );
}

export default function FeaturesBarber({ lang = "ar" }) {

 

  const t =
    lang === "en"
      ? {
          heading: " Barber – Organize your appointments and increase your customers",
          reserveTitle: "Receive orders instantly",
          reserveText: "Activate your account and start receiving bookings near you.",
          checkTitle: "Manage appointments easily",
          checkText: "Adjust opening times, and accept or reject bookings with the click of a button.",
          chatTitle: "Communicate directly with customers",
          chatText: "Chat with them to sort out details or respond to queries.",
          moneyTitle: "Track your income as you go",
          moneyText: " Get daily and weekly reports of your earnings.",
        }
      : {
          heading: " للحلاق – نظّم مواعيدك وزِد عملاءك",
          reserveTitle: "استقبل الطلبات فورًا",
          reserveText: "فعّل حسابك وابدأ بتلقي الحجوزات القريبة منك.",
          checkTitle: "إدارة المواعيد بسهولة",
          checkText: "عدّل أوقات العمل، وقم بقبول أو رفض الحجوزات بضغطة زر.",
          chatTitle: "تواصل مباشر مع العملاء",
          chatText: "دردش معهم لترتيب التفاصيل أو الرد على الاستفسارات.",
          moneyTitle: "تابع دخلك أولاً بأول",
          moneyText: " احصل على تقارير يومية وأسبوعية بأرباحك.",
        };

  return (
    <section
      id="featuresBarber"
      className={`relative overflow-hidden bg-white w-full min-h-[100vh] ${styles.padding}`}
    >
      <div
        className={`${layout.sectionReverse} 
        max-w-7xl mx-auto z-40 
        flex justify-center items-center gap-16 xl:gap-0`}
      >
        {/* Mockup */}
        <div className={`${layout.sectionImg} relative`}>
          <div
            className="relative mx-auto 
            flex justify-center 
            w-[300px] xs:w-[350px] sm:w-[400px] lg:w-[450px] 
            h-[350px] xs:h-[400px] sm:h-[450px] lg:h-[500px] 
            rounded-[20px] lg:rounded-[40px] 
            bg-gradient-to-b from-[#1E2E56] to-[#4B5791] 
            shadow-xl overflow-visible"
          >
            <Image
              src={mockup4}
              alt="App Screen 3"
              className="absolute bottom-0 object-contain 
              w-[250px] xs:w-[300px] sm:w-[350px] lg:w-[400px] 
              h-[450px] xs:h-[500px] sm:h-[550px] lg:h-[600px]"
              priority
            />
          </div>
        </div>

         {/* Texte */}
         <div className={`flex-1 ${styles.flexCenter} flex-col gap-5`}>
          <h1 className={`${styles.title} text-[#202641] max-w-[650px]`}>
            {t.heading}
          </h1>

          <div className="flex flex-col gap-4 mt-8">
            <FeatureCard icon={<ReserveIcon />} title={t.reserveTitle} text={t.reserveText} />
            <FeatureCard icon={<CheckIcon />} title={t.checkTitle} text={t.checkText} />
            <FeatureCard icon={<ChatIcon />} title={t.chatTitle} text={t.chatText} />
            <FeatureCard icon={<MoneyIcon />} title={t.moneyTitle} text={t.moneyText} />
          </div>
        </div>
      </div>
    </section>
  );
}
